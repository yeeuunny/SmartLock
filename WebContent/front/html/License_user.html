<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>License | Smart Lock</title>
<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link href="css/modern-business.css" rel="stylesheet">
<!-- Custom Fonts -->
<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet"
	type="text/css">

<link href="css/mouse-over.css" rel="stylesheet">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
	<!-- Navigation -->
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="Main_user.html">Smart Lock</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse"
				id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-left">
					<li><a href="Main_user.html">Home</a></li>
					<li><a href="Device_user.html">Device</a></li>
					<li class="active"><a href="License_user.html">License</a></li>
					<li><a href="Download_user.html">Download</a></li>
					<li><a href="Q&A_user.html">Q&A</a></li>
					<li><a href="Notice_user.html">Notice</a></li>
				</ul>

				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown"><span
							class="glyphicon glyphicon-user pull-leftt"></span></a>
						<ul class="dropdown-menu">
							<li><br>
								<div class="col-md-5">
									<img class="img-responsive"
										style="margin-left: 15px; margin-right: 20px" align="left"
										width="100px" src=".\img\profile.png" alt="">
								</div>
								<div class="col-md-7">
									<h4>홍길동 님</h4>
									<h5>example@google.com</h5>
									<a class="btn btn-sm btn-default btn-block"
										href="Profile_user.html">마이페이지</a> <br>
								</div></li>
							<li class="divider"></li>
							<li><a href="Log_out.html">로그아웃</a></li>
						</ul></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>

	<!-- Page Content -->
	<div class="container">
		<!-- Service Panels -->
		<!-- The circle icons use Font Awesome's stacked icon classes. For more information, visit http://fontawesome.io/examples/ -->
		<div class="row">
			<div class="col-lg-12">
				<h2 class="page-header">라이센스 발급현황</h2>
				<ol class="breadcrumb">
					<li class="active">라이센스 발급현황</li>
					<li><a href="License_user_request.html">라이센스 요청현황</a></li>
				</ol>
			</div>
			<!-- 검색필터-->
			<div class="row">
				<div class="col-sm-12">
					<div class="col-sm-2">
						<div class="input-group">
							<select name="" id="location1"
								style="width: 180px; height: 35px;">
								<option value="">소프트웨어명</option>
								<option value="">Microsoft Excel</option>
								<option value="">Parallels Desktop</option>
								<option value="">Adobe CC</option>
								<option value="">Football Manager</option>
							</select>
						</div>
					</div>
					<div class="col-sm-2">
						<div class="input-group">
							<select name="" id="list" style="width: 180px; height: 35px;">
								<option value="0">만료 날짜</option>
								<option value="1">오름차순</option>
								<option value="2">내림차순</option>
							</select>
						</div>
					</div>
					<div class="col-sm-6">
						<input type="text" class="col-md-4" placeholder="검색어를 입력하세요"
							id="searchField" style="width: 300px; height: 35px;">&nbsp;&nbsp;
						<button class="btn btn-primary" type="button" id="searchButton"
							onclick="search();">
							<i class="fa fa-search"></i>
						</button>
					</div>
				</div>

			</div>
			<br>
			<!-- 검색필터-->
		</div>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2 class="text-center"></h2>
				</div>
				<div id="no-more-tables">
					<table
						class="col-sm-12 table-bordered table-striped table-condensed cf">
						<thead class="cf" align="center">
							<tr>
								<td width="10px"><h4>
										<b>No.
									</h4></td>
								<td width="250px"><h4>
										<b>소프트웨어
									</h4></td>
								<td width="180px"><h4>
										<b>장치명
									</h4></td>
								<td width="200px"><h4>
										<b>회사명
									</h4></td>
								<td width="150px"><h4>
										<b>시작일자
									</h4></td>
								<td width="150px"><h4>
										<b>만료기간
									</h4></td>
								<td width="100px"><h4>
										<b>상태
									</h4></td>
							</tr>
						</thead>
						<tbody align="center">
							<tr data-repeat="list">
								<td data-bind="no" class="data-no">1</td>
								<td data-bind="소프트웨어">Microsoft Excel</td>
								<td data-bind="장치명">My-Mac</td>
								<td data-bind="회사명">Microsoft</td>
								<td data-bind="시작일자">2016-11-31</td>
								<td data-bind="만료기간">9999-99-99</td>
								<td data-bind="상태발급완료"><span class="label label-success">발급
										완료</span></td>
								<td data-bind="상태데모버전"><span class="label label-success"
									onmouseout="this.style.background='#5cb85c';
                				this.innerText='데모 버전';"
									onmouseover="this.style.background='#58ACFA';this.innerText='연장 요청';">데모
										버전</span></td>
								<td data-bind="상태발급대기"><span class="label label-warning">발급
										대기</span></td>
								<td data-bind="상태발급거절"><span class="label label-danger"
									onmouseout="this.style.background='#DF5A5A';this.innerText='발급 거절';"
									onmouseover="this.style.background='#58ACFA';this.innerText='발급 재요청';">발급거절</span></td>
							</tr>


						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- /.container -->
	<!-- Pagination -->
	<div class="row text-center">
		<div class="col-lg-12">
			<ul class="pagination">
				<li><a href="#">&laquo;</a></li>
				<li class="active"><a href="#">1</a></li>
				<li><a href="#">2</a></li>
				<li><a href="#">3</a></li>
				<li><a href="#">4</a></li>
				<li><a href="#">5</a></li>
				<li><a href="#">&raquo;</a></li>
			</ul>
		</div>
	</div>
	<!-- /.row -->
	<hr>
	<footer class="text-center">
		<div class="row">
			<div class="col-lg-12">
				<p>
					서울특별시 서초구 양재대로2길 90, 아세아타워 TEL : 02-971-0321 FAX : 02-527-0321 <br>
					사업자등록번호 : 220-88-03210 캐드서브(주) 대표이사 : 김형준 <br> Copyright ⓒ
					Cadserv co., LTD.all rights reserved.
				</p>
			</div>
		</div>
	</footer>
	</div>
	<!-- jQuery -->
	<script src="js/jquery.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="js/bootstrap.min.js"></script>

	<script src="js/jquery-repeat.js"></script>
	<script language="javaScript">
	function search() {
    	var sortingField = "end_date";
		var ctrlSelect = document.getElementById("list");
		if (ctrlSelect.selectedIndex == "default") {
			alert("관심사항을 선택하시오.");
			ctrlSelect.focus();
		} 
		else if(ctrlSelect.selectedIndex = "ascend") {
			licenseUserVOArrayList.sort(function(a, b) { // 오름차순
		        return a[sortingField] - b[sortingField];
		    });
			ctrlSelect.focus();
		} 
		else {
			licenseUserVOArrayList.sort(function(a, b) { // 오름차순
		        return a[sortingField] - b[sortingField];
		    });
			ctrlSelect.focus();
		}
	}
		var sortingField = "end_date";

		student.sort(function(a, b) { // 오름차순
			return a[sortingField] - b[sortingField];
		});

		student.sort(function(a, b) { // 내림차순
			return b[sortingField] - a[sortingField];
		});

		/*
		데이터를 가져옵니다.

		query: {
			option1: "",
			option2: "",
			str: "",
			page: ""
		}
		 */
		var requestData = function(query) {
			/*
			$.ajax({
			    url : "/",
			    type : "GET",
			    dataType : "json",
			    data : query,
			    success : function (data){
			        if(data.result == "success") {
			            repeatData(data['description']);
			        } else {

			        }
			    },
			    error : function(data, textStatus, errorThrown) {

			    }
			});
			 */

			var sample = [ {
				no : "1",
				소프트웨어 : "Microsoft Excel",
				장치명 : "My-Mac",
				회사명 : "Microsoft",
				시작일자 : "2016-11-31",
				만료기간 : "9999-99-99",
				상태 : "발급완료"
			}, {
				no : "2",
				소프트웨어 : "Microsoft Excel",
				장치명 : "Home-PC",
				회사명 : "Microsoft",
				시작일자 : "2016-11-31",
				만료기간 : "9999-99-99",
				상태 : "발급완료"
			}, {
				no : "3",
				소프트웨어 : "Microsoft Excel",
				장치명 : "Office-PC",
				회사명 : "Microsoft",
				시작일자 : "2016-11-31",
				만료기간 : "9999-99-99",
				상태 : "발급완료"
			}, {
				no : "4",
				소프트웨어 : "Parallels Desktop",
				장치명 : "GD's Phone",
				회사명 : "Microsoft",
				시작일자 : "2017-03-21",
				만료기간 : "2017-04-21",
				상태 : "데모버전"
			}, {
				no : "5",
				소프트웨어 : "Parallels Desktop",
				장치명 : "Parallels International",
				회사명 : "Microsoft",
				시작일자 : "2017-03-21",
				만료기간 : "2017-04-21",
				상태 : "데모버전"
			}, {
				no : "6",
				소프트웨어 : "Parallels Desktop",
				장치명 : "Office-PC",
				회사명 : "Microsoft",
				시작일자 : "2017-03-21",
				만료기간 : "2017-04-21",
				상태 : "데모버전"
			} ];

			repeatData(sample);
		};

		/*
		 리스트를 반복합니다.

		 data: [{
			 no: "1",
			 소프트웨어: "Microsoft Excel",
			 장치명: "My-Mac",
			 회사명: "Microsoft",
			 시작일자: "2016-11-31",
			 만료기간: "9999-99-99",
			 상태: "발급완료|데모버전|발급대기|발급거절"
		 }, ...]
		 */
		var repeatData = function(data) {
			$("[data-repeat*='list']").repeat(data, function(dom, i, obj) {
				$(dom).find("[data-bind*='no']").html(obj['no']);
				$(dom).find("[data-bind*='소프트웨어']").html(obj['소프트웨어']);
				$(dom).find("[data-bind*='장치명']").html(obj['장치명']);
				$(dom).find("[data-bind*='회사명']").html(obj['회사명']);
				$(dom).find("[data-bind*='시작일자']").html(obj['시작일자']);
				$(dom).find("[data-bind*='만료기간']").html(obj['만료기간']);

				$(dom).find("[data-bind*='상태발급완료']").hide();
				$(dom).find("[data-bind*='상태데모버전']").hide();
				$(dom).find("[data-bind*='상태발급대기']").hide();
				$(dom).find("[data-bind*='상태발급거절']").hide();

				if (obj['상태'] == "발급완료") {
					$(dom).find("[data-bind*='상태발급완료']").show();
				}

				if (obj['상태'] == "데모버전") {
					$(dom).find("[data-bind*='상태데모버전']").show();
				}

				if (obj['상태'] == "발급대기") {
					$(dom).find("[data-bind*='상태발급대기']").show();
				}

				if (obj['상태'] == "발급거절") {
					$(dom).find("[data-bind*='상태발급거절']").show();
				}
			});
		};

		// 초기데이터를 요청합니다.
		requestData();
	</script>
</body>

</html>
